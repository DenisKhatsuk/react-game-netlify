(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(13),c=n.n(s),o=n(3),i=n(4),r=n(6),l=n(5),u=(n(18),n(19),n(0)),d=function(){return Object(u.jsx)("div",{className:"app-logo",children:Object(u.jsx)("img",{className:"app-logo__img",src:"./img/logo.png",alt:"App logo"})})},b=function(){return Object(u.jsx)("header",{className:"app-header",children:Object(u.jsx)(d,{})})},j=(n(21),n(2)),g=n(12),f=(n(22),n(10)),h=n.n(f),m=(n(31),function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={value:e.props.value,isEmpty:!0},e.clickHandler=function(){var t=e.props,n=t.onSelect,a=t.row,s=t.column,c=t.value,o=t.isPlaying,i=e.state.isEmpty;o&&i&&(e.setState({value:c,isEmpty:!1}),n(a,s))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"board-field",onClick:this.clickHandler,children:this.state.value})}}]),n}(a.Component)),p=(n(32),function(e){var t=e.message;return Object(u.jsx)("div",{className:"info-panel",children:t})}),O=(n(33),function(e){var t=e.onSelect;return Object(u.jsxs)("div",{className:"buttons-block",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-outline-info btn-lg btn-block",onClick:function(){return t("Autoplay")},children:"Autoplay"}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg btn-block",onClick:function(){return t("Statistics")},children:"Statistics"}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-lg btn-block",onClick:function(){return t("NewGame")},children:"New Game"})]})}),y=(n(34),n(7)),S=n.n(y),x=function(e){var t=e.onPlayerChange,n=e.playerState,s=e.onSoundChange,c=e.soundState,o=e.onMusicChange,i=e.musicState,r=Object(a.useState)(n),l=Object(j.a)(r,2),d=l[0],b=l[1],g=Object(a.useState)(!1),f=Object(j.a)(g,2),h=f[0],m=f[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),y=O[0],x=O[1],v=Object(a.useState)(c),w=Object(j.a)(v,2),C=w[0],k=w[1],N=Object(a.useState)(i),P=Object(j.a)(N,2),_=P[0],L=P[1];return Object(u.jsxs)("div",{className:"toggles-block",children:[Object(u.jsxs)("label",{className:"toggles-block__toggle",children:[Object(u.jsx)("span",{children:"First player"}),Object(u.jsx)(S.a,{onChange:function(e){b(e),t()},checked:d,className:"react-switch",onColor:"#86d3ff",onHandleColor:"#2693e6",offColor:"#86d3ff",offHandleColor:"#2693e6",checkedIcon:Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:18,fontWeight:"bold",color:"#ffffff",paddingRight:2},children:"O"})})]}),Object(u.jsxs)("label",{className:"toggles-block__toggle",children:[Object(u.jsx)("span",{children:"Night Mode"}),Object(u.jsx)(S.a,{onChange:function(e){m(e),document.getElementById("root").classList.toggle("night-mode")},checked:h,className:"react-switch",onColor:"#86d3ff",onHandleColor:"#2693e6"})]}),Object(u.jsxs)("label",{className:"toggles-block__toggle",children:[Object(u.jsx)("span",{children:"Fullscreen"}),Object(u.jsx)(S.a,{onChange:function(e){var t;x(e),y?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():(t=document.getElementById("root")).requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},checked:y,className:"react-switch",onColor:"#86d3ff",onHandleColor:"#2693e6"})]}),Object(u.jsxs)("label",{className:"toggles-block__toggle",children:[Object(u.jsx)("span",{children:"Sounds"}),Object(u.jsx)(S.a,{onChange:function(e){k(e),s()},checked:C,className:"react-switch",onColor:"#86d3ff",onHandleColor:"#2693e6"})]}),Object(u.jsxs)("label",{className:"toggles-block__toggle",children:[Object(u.jsx)("span",{children:"Music"}),Object(u.jsx)(S.a,{onChange:function(e){L(e),o()},checked:_,className:"react-switch",onColor:"#86d3ff",onHandleColor:"#2693e6"})]})]})},v=(n(36),function(e){var t=Object(j.a)(e.line,2),n=Object(j.a)(t[0],2),a=n[0],s=n[1],c=Object(j.a)(t[1],2),o=c[0],i=c[1],r=e.visibility?"winning-line":"winning-line d-none";return Object(u.jsx)("svg",{className:r,height:"300",width:"300",children:Object(u.jsx)("line",{className:"winning-line__line",x1:a,y1:s,x2:o,y2:i})})}),w=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={board:[["","",""],["","",""],["","",""]],isPlaying:!0,winner:"",message:"Let's play!"},e.currentPlayer="X",e.startingPlayer="X",e.soundIsOn=!1,e.playMoveSound=!1,e.playEndGameSound=!1,e.playMusic=!1,e.idCounter=0,e.winningLines=[[[0,0],[0,0]],[[10,50],[290,50]],[[10,150],[290,150]],[[10,250],[290,250]],[[50,10],[50,290]],[[150,10],[150,290]],[[250,10],[250,290]],[[10,10],[290,290]],[[10,290],[290,10]]],e.winningLine=e.winningLines[0],e.drawLine=function(t){e.winningLine=e.winningLines[t]},e.setInitialGameState=function(){e.setState({board:[["","",""],["","",""],["","",""]],isPlaying:!0,winner:"",message:"Let's play!"}),e.currentPlayer=e.startingPlayer},e.toggleCurrentPlayer=function(){e.currentPlayer="O"===e.currentPlayer?"X":"O"},e.toggleStartingPlayer=function(){e.startingPlayer="O"===e.startingPlayer?"X":"O",e.setInitialGameState()},e.toggleSoundSwitch=function(){e.soundIsOn=!e.soundIsOn},e.toggleMusicSwitch=function(){e.playMusic=!e.playMusic},e.toggleSound=function(t){e[t]=!0,setTimeout((function(){e[t]=!1}),100)},e.stopGame=function(t){var n="Player ".concat(t," won!");e.setState({isPlaying:!1,winner:t},(function(){e.setState({message:t?n:"Tie!"})})),e.drawLine(1),e.soundIsOn&&e.toggleSound("playEndGameSound")},e.makeMove=function(t,n){e.setState((function(a){var s=a.board,c=Object(g.a)(s);return c[t][n]=e.currentPlayer,{board:c}}),(function(){e.soundIsOn&&e.toggleSound("playMoveSound"),e.resultCheck(),e.toggleCurrentPlayer(),e.setState({message:"It's player ".concat(e.currentPlayer," turn.")})}))},e.resultCheck=function(){for(var t=e.state.board,n=0;n<3;n++)if(t[n][0]&&t[n][0]===t[n][1]&&t[n][1]===t[n][2]){var a=t[n][0];return e.stopGame(a),void e.drawLine(n+1)}for(var s=0;s<3;s++)if(t[0][s]&&t[0][s]===t[1][s]&&t[1][s]===t[2][s]){var c=t[0][s];return e.stopGame(c),void e.drawLine(s+4)}if(t[0][0]&&t[0][0]===t[1][1]&&t[1][1]===t[2][2]){var o=t[0][0];return e.stopGame(o),void e.drawLine(7)}if(t[0][2]&&t[0][2]===t[1][1]&&t[1][1]===t[2][0]){var i=t[0][2];return e.stopGame(i),void e.drawLine(8)}for(var r=0;r<3;r++)for(var l=0;l<3;l++)if(!t[r][l])return;e.stopGame(null),e.drawLine(0)},e.autoplay=function(){e.setState({board:[["","",""],["","",""],["","",""]],isPlaying:!0,winner:"",message:"Let's play!"},(function(){for(var t=[],n=0;n<3;n++)for(var a=0;a<3;a++)t.push([n,a]);!function n(){if(e.state.isPlaying){var a=Math.floor(Math.random()*(t.length+1)),s=t.splice(a-1,1),c=Object(j.a)(s,1)[0],o=Object(j.a)(c,2),i=o[0],r=o[1];e.setState((function(t){var n=t.board,a=Object(g.a)(n);return a[i][r]=e.currentPlayer,{board:a}}),(function(){e.soundIsOn&&e.toggleSound("playMoveSound"),e.resultCheck(),e.toggleCurrentPlayer(),e.setState({message:"It's player ".concat(e.currentPlayer," turn.")}),t.length&&setTimeout(n,1e3)}))}}()}))},e.onSelect=function(t,n){e.state.board[t][n]||e.makeMove(t,n)},e.settingsListener=function(t){switch(t){case"Autoplay":e.autoplay();break;case"Statistics":break;case"NewGame":e.setInitialGameState()}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;this.settingsListener();var t=this.state,n=t.board,a=t.isPlaying,s=n.map((function(t,n){return Object(u.jsx)("div",{className:"board-row",children:t.map((function(t,s){return Object(u.jsx)(m,{row:n,column:s,onSelect:e.onSelect,value:t,isPlaying:a},e.idCounter++)}))},e.idCounter++)}));return Object(u.jsxs)("div",{className:"game-board",children:[Object(u.jsxs)("section",{className:"game-field",children:[Object(u.jsx)(p,{message:this.state.message}),Object(u.jsx)(v,{line:this.winningLine,visibility:!this.state.isPlaying}),s]}),Object(u.jsxs)("section",{className:"game-settings",children:[Object(u.jsx)(x,{onPlayerChange:this.toggleStartingPlayer,playerState:"O"===this.startingPlayer,onSoundChange:this.toggleSoundSwitch,soundState:this.soundIsOn,onMusicChange:this.toggleMusicSwitch,musicState:this.playMusic}),Object(u.jsx)(O,{onSelect:this.settingsListener})]}),Object(u.jsx)(h.a,{src:"./sounds/move-sound.mp3",playing:this.playMoveSound}),Object(u.jsx)(h.a,{src:"./sounds/end-game-sound.mp3",playing:this.playEndGameSound}),Object(u.jsx)(h.a,{src:"./sounds/game-sound.ogg",loop:!0,playing:this.playMusic})]})}}]),n}(a.Component),C=function(){return Object(u.jsx)("main",{className:"app-main",children:Object(u.jsx)(w,{})})},k=(n(37),n(38),function(){return Object(u.jsxs)("div",{className:"social-icons",children:[Object(u.jsx)("a",{href:"https://github.com/DenisKhatsuk",target:"_blank",rel:"noreferrer",children:Object(u.jsx)("i",{className:"fa fa-github fa-3x"})}),Object(u.jsx)("a",{href:"https://github.com/DenisKhatsuk",target:"_blank",rel:"noreferrer",children:Object(u.jsx)("i",{className:"fa fa-youtube fa-3x"})})]})}),N=(n(39),function(){return Object(u.jsx)("img",{src:"./img/rsschool-logo.png",alt:"RS School logo",className:"rsschool-logo"})}),P=function(){return Object(u.jsxs)("footer",{className:"app-footer",children:[Object(u.jsxs)("div",{className:"app-footer__details",children:[Object(u.jsx)("span",{className:"app-footer__year",children:"2021"}),Object(u.jsx)("div",{className:"app-footer__logo",children:Object(u.jsx)("a",{href:"https://rs.school/react/",target:"_blank",rel:"noreferrer",children:Object(u.jsx)(N,{})})})]}),Object(u.jsx)("div",{className:"app-footer__icons",children:Object(u.jsx)(k,{})})]})},_=(n(40),function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"react-game-app",children:[Object(u.jsx)(b,{}),Object(u.jsx)(C,{}),Object(u.jsx)(P,{})]})}}]),n}(a.Component));n(41);c.a.render(Object(u.jsx)(_,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bbee38d4.chunk.js.map